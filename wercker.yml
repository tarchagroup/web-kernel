box: wercker/php
build:
    steps:
      - add-ssh-key:
          keyname: TARCHABOT_KEY
      - mbrevda/composer-install
      - script:
          name: phplint
          code: ./vendor/bin/parallel-lint --exclude vendor .
      - mbrevda/phpcs:
            directory: src/
      - mbrevda/phpcs:
          directory: src/
      - script:
          name: phpunit
          code: ./tests/phpunit.sh
    after-steps:
        - slack-notifier:
            url: $SLACK_WEBHOOK_URL
